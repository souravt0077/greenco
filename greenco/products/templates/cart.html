{% extends 'main.html' %}
{% load static %}
{% block title %}Cart{% endblock title %}

{% block content %}

<!--custom gsap-->
<link rel="stylesheet" href={% static 'css/gsap.css' %} />

<style>
    
      .card img:hover{
        transform:scale(1.1);
        transition: 0.6s;
    }
    #card{
        padding:30px;
        height:400px;

    }
    #page{
        min-height:100vh;
    }
    #empty{
        display:grid;
        justify-content:center;
        align-items:center;
        margin-top:10%;
    }
</style>

<div id='page'>
    
    <div class='container'>
        <div class='row'>
            {% if cart_items %}
            <div class=" text-center p-5 ">
                <h1 class="heading_large gs_reveal"> Cart <i class="bi bi-cart-check"></i></h1>
                <p class="gs_reveal"></p>
            </div>
            <br>
                {% for item in cart_items %}
                <div class='col-sm-3'>
                    
                        <div class='text-danger text-end'>
                            <a href={% url 'remove_cart' item.pk %}><i class="bi bi-x-circle"></i></a>
                        </div>
                        <a href={% url 'product_details' item.product.slug %}>
                        <div class="card d-block w-100" style="width: 18rem;" id='card'>
                            {% if item.product.offer %}
                                <span class="badge bg-danger">Offer Available</span> 
                            {% endif %}
                            <img src={{item.product.product_images1.url}} class="card-img-top" alt="...">
                            <div class="card-body">
                            <h5 class="card-title">{{item.product.name}} </h5>
                            <h6>Quantity: {{item.product_qty}}</h6>
                            <h5>Rs.<strike class='text-danger'><small>{{item.product.selling_price}}</small></strike> <span class='text-success'>{{item.product.offer_price}}</span>/- </h5>
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}
            {% else %}
            <div class='text-center' id='empty'>
                <img src={% static 'images/emptycart.png' %} />
            </div>
            {% endif %}
            <h1>{{total_amount}}</h1>
        </div>
    </div>
</div>

<!-- JavaScript -->
<script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
<script>
    {% if messages %}
        alertify.set('notifier','position', 'bottom-center');
        {% for msg in messages %}
            alertify.success('{{msg}}');
        {% endfor %}
    {% endif %}
</script>


<!--gsap cdn-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollTrigger.min.js"></script>
<!--custom gsap-->
<script src={% static 'js/gsap.js' %}></script>

<!--footer-->
{% include 'footer.html' %}


{% endblock content %}